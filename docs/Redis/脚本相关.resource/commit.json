{"compress":true,"commitItems":[["60d9643b-11f9-460a-b7c4-b269f8160b8c",1663814204615,"",[[1663814151052,["mac@macdeMacBook-Pro.local",[[1,0,"# 脚本相关\n\n\n\n"]],[0,0],[9,9]]],[1663814153584,["mac@macdeMacBook-Pro.local",[[-1,1," 脚本相关\n\n\n\n"]],[0,10],[1,1]]],[1663814159250,["mac@macdeMacBook-Pro.local",[[1,1,"# 批量删除大量Keys"]],[1,1],[13,13]]],[1663814159696,["mac@macdeMacBook-Pro.local",[[1,13,"\n\n"]],[13,13],[14,14]]],[1663814160225,["mac@macdeMacBook-Pro.local",[[1,15,"\n"]],[14,14],[15,15]]],[1663814161565,["mac@macdeMacBook-Pro.local",[[-1,15,"\n"],[1,16,"`"]],[15,15],[16,16]]],[1663814161914,["mac@macdeMacBook-Pro.local",[[1,16,"``"]],[16,16],[18,18]]],[1663814161936,["mac@macdeMacBook-Pro.local",[[1,18,"language\n```\n"]],[18,18],[18,26]]],[1663814162700,["mac@macdeMacBook-Pro.local",[[-1,18,"language"]],[18,26],[18,18]]],[1663814164130,["mac@macdeMacBook-Pro.local",[[1,18," she"]],[18,18],[22,22]]],[1663814164997,["mac@macdeMacBook-Pro.local",[[-1,18," she"]],[22,22],[18,18]]],[1663814165896,["mac@macdeMacBook-Pro.local",[[1,18,"lua"]],[18,18],[21,21]]],[1663814166221,["mac@macdeMacBook-Pro.local",[[1,22,"\n"]],[21,21],[22,22]]],[1663814166392,["mac@macdeMacBook-Pro.local",[[1,23,"\n"]],[22,22],[23,23]]],[1663814167787,["mac@macdeMacBook-Pro.local",[[1,28,"\n"]],[27,27],[28,28]]],[1663814167943,["mac@macdeMacBook-Pro.local",[[1,29,"\n"]],[28,28],[29,29]]],[1663814168634,["mac@macdeMacBook-Pro.local",[[1,29," redis-cli -h 172.16.32.27 -n 2 -a 'BinGoBuried123!#&SDJxv' --eval ./del.lua \"2022-09-16@EVENT*\""]],[29,29],[125,125]]],[1663814169727,["mac@macdeMacBook-Pro.local",[[-1,29," redis-cli -h 172.16.32.27 -n 2 -a 'BinGoBuried123!#&SDJxv' --eval ./del.lua \"2022-09-16@EVENT*\""]],[125,125],[29,29]]],[1663814171061,["mac@macdeMacBook-Pro.local",[[-1,29,"\n"],[1,30,">"]],[29,29],[30,30]]],[1663814172157,["mac@macdeMacBook-Pro.local",[[1,30,">>  redis-cli -h 172.16.32.27 -n 2 -a 'BinGoBuried123!#&SDJxv' --eval ./del.lua \"2022-09-16@EVENT*\""]],[30,30],[129,129]]],[1663814174988,["mac@macdeMacBook-Pro.local",[[-1,30,">>"]],[32,32],[30,30]]],[1663814192791,["mac@macdeMacBook-Pro.local",[[1,23,"local key=KEYS[1]\nlocal list=redis.call(\"keys\", key)\nfor i,v in ipairs(list) do\n    redis.call(\"del\", v)\nend"]],[23,23],[131,131]]],[1663814194629,["mac@macdeMacBook-Pro.local",[[-1,22,"\n"]],[22,22],[21,21]]],[1663814196059,["mac@macdeMacBook-Pro.local",[[1,234,"\n\n"]],[234,234],[235,235]]],[1663814196230,["mac@macdeMacBook-Pro.local",[[1,236,"\n"]],[235,235],[236,236]]],[1663814196397,["mac@macdeMacBook-Pro.local",[[1,237,"\n"]],[236,236],[237,237]]],[1663814198355,["mac@macdeMacBook-Pro.local",[[-1,237,"\n"],[1,238,"`"]],[237,237],[238,238]]],[1663814198680,["mac@macdeMacBook-Pro.local",[[1,238,"``"]],[238,238],[240,240]]],[1663814198766,["mac@macdeMacBook-Pro.local",[[1,240,"language\n```\n"]],[240,240],[240,248]]],[1663814199706,["mac@macdeMacBook-Pro.local",[[-1,241,"anguage"]],[240,248],[241,241]]],[1663814200000,["mac@macdeMacBook-Pro.local",[[1,241,"ua"]],[241,241],[243,243]]],[1663814200357,["mac@macdeMacBook-Pro.local",[[1,244,"\n"]],[243,243],[244,244]]],[1663814210666,["mac@macdeMacBook-Pro.local",[[1,244,"local cursor = tonumber(KEYS[1])\nlocal matchKey = KEYS[2]\nlocal matchCount = tonumber(KEYS[3])\n\nlocal info = {}\ninfo[1] = cursor\ninfo[2] = 0\n\nlocal resp = redis.call('scan', cursor, 'MATCH', matchKey, 'count', matchCount)\ninfo[1] = resp[1]\n\nlocal dataList = resp[2]\nfor i=1,#dataList do\n    local d = dataList[i]\n redis.call('del', d)\n table.insert(info, d)\nend\n\nreturn info\n"]],[244,244],[619,619]]]],null,"mac@macdeMacBook-Pro.local"]]}